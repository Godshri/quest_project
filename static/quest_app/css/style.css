:root {
  /* –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ */
  --color-bg-primary: #0a0a23;
  --color-bg-secondary: #1a1a3a;
  --color-bg-tertiary: #2a2a4a;
  --color-bg-quaternary: #3a3a5a;
  
  --color-accent-blue: #4cc9f0;
  --color-accent-orange: #ff6b35;
  --color-accent-pink: #f72585;
  
  --color-text-primary: #fff;
  --color-text-secondary: #4cc9f0;
  --color-text-accent: #ff6b35;
  
  /* –†–∞–∑–º–µ—Ä—ã –∏ –æ—Ç—Å—Ç—É–ø—ã */
  --spacing-xs: 5px;
  --spacing-sm: 10px;
  --spacing-md: 15px;
  --spacing-lg: 20px;
  --spacing-xl: 25px;
  --spacing-xxl: 30px;
  
  --border-radius-sm: 5px;
  --border-radius-md: 10px;
  --border-radius-lg: 15px;
  
  --border-width-sm: 1px;
  --border-width-md: 2px;
  --border-width-lg: 3px;
  --border-width-xl: 4px;
  
  /* –†–∞–∑–º–µ—Ä—ã —à—Ä–∏—Ñ—Ç–æ–≤ */
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-md: 16px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;
  --font-size-xxl: 24px;
  --font-size-xxxl: 2.5em;
  --font-size-giant: 3em;
  
  /* –¢–µ–Ω–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã */
  --shadow-sm: 0 0 10px rgba(255, 107, 53, 0.3);
  --shadow-md: 0 0 15px rgba(255, 107, 53, 0.4);
  --shadow-lg: 0 0 20px rgba(255, 107, 53, 0.3);
  --shadow-glow: 0 0 20px rgba(255, 107, 53, 0.8);
  
  /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
  --transition-fast: 0.1s ease;
  --transition-normal: 0.3s ease;
  --transition-slow: 0.5s ease;
  
  /* –ü—Ä–æ—á–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
  --container-max-width: 900px;
  --room-image-size: 512px;
  --room-image-size-mobile: 250px;
  --room-image-size-small: 200px;
}

body {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  font-family: 'Courier New', monospace;
  margin: 0;
  padding: var(--spacing-lg);
  background-image: url('../img/bg.png');
  background-size: 100px 100px;
  image-rendering: pixelated;
}

.container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  border: var(--border-width-xl) solid var(--color-accent-orange);
  background-color: var(--color-bg-secondary);
  padding: var(--spacing-lg);
  box-shadow: var(--shadow-lg);
}

.pixel-header, .pixel-footer {
  text-align: center;
  margin-bottom: var(--spacing-xxl);
}

.pixel-divider {
  height: var(--border-width-xl);
  background: linear-gradient(90deg, var(--color-accent-orange), var(--color-accent-blue), var(--color-accent-orange));
  margin: var(--spacing-sm) 0;
  image-rendering: pixelated;
}

h1 {
  color: var(--color-accent-blue);
  text-shadow: 3px 3px 0 var(--color-accent-orange);
  font-size: var(--font-size-xxxl);
  margin: 0;
}

.room {
  border: var(--border-width-lg) solid var(--color-accent-blue);
  padding: var(--spacing-lg);
  margin: var(--spacing-lg) 0;
  background-color: var(--color-bg-tertiary);
}

.room-image-wrapper {
  display: flex;
  justify-content: center;
  margin-bottom: var(--spacing-lg);
}

.room-image {
  width: var(--room-image-size);
  height: var(--room-image-size);
  border: var(--border-width-md) solid var(--color-accent-orange);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  image-rendering: pixelated;
  background-color: var(--color-bg-quaternary);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.room-image::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xl);
  font-weight: bold;
  color: var(--color-text-primary);
  text-shadow: 2px 2px 0 #000;
  z-index: 1;
}

.room-image.server::before {
  content: "üñ•Ô∏è –°–µ—Ä–≤–µ—Ä–Ω–∞—è";
  background: linear-gradient(45deg, var(--color-bg-tertiary), #4a4a6a);
}

.room-image.library::before {
  content: "üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞";
  background: linear-gradient(45deg, #3a2a2a, #5a4a4a);
}

.room-image.arcade::before {
  content: "üéÆ –ê—Ä–∫–∞–¥–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç";
  background: linear-gradient(45deg, #2a3a2a, #4a5a4a);
}

.room-image.roof::before {
  content: "üèôÔ∏è –ö—Ä—ã—à–∞";
  background: linear-gradient(45deg, #2a2a3a, #4a4a5a);
}

.room-image[style*="background-image:"] {
  background-size: cover;
  background-color: transparent;
}

.room-image[style*="background-image:"]::before {
  display: none;
}

.puzzle {
  background-color: var(--color-bg-quaternary);
  padding: var(--spacing-md);
  margin: var(--spacing-md) 0;
  border: var(--border-width-md) solid var(--color-accent-orange);
}

.puzzle h3 {
  color: var(--color-accent-orange);
  margin-top: 0;
}

.pixel-emoji {
  image-rendering: pixelated;
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: none;
  font-smooth: never;
  display: inline-block;
  animation: pixel-blink 3s infinite;
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000;
}

@font-face {
  font-family: 'PixelEmoji';
  src: local('Segoe UI Emoji'), local('Apple Color Emoji');
  font-style: normal;
}

.pixel-emoji {
  font-family: 'PixelEmoji', 'Courier New', monospace;
}

.pixel-input {
  padding: var(--spacing-sm);
  border: var(--border-width-md) solid var(--color-accent-blue);
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
  font-family: 'Courier New', monospace;
  width: 250px;
  margin-right: var(--spacing-sm);
  font-size: var(--font-size-md);
  image-rendering: pixelated;
}

.pixel-button {
  padding: var(--spacing-sm) var(--spacing-xl);
  background-color: var(--color-accent-orange);
  color: white;
  border: none;
  border: var(--border-width-md) solid var(--color-accent-blue);
  font-family: 'Courier New', monospace;
  cursor: pointer;
  transition: all var(--transition-fast);
  font-size: var(--font-size-md);
  position: relative;
  image-rendering: pixelated;
}

.pixel-button:hover {
  transform: translateY(-2px);
  background-color: #ff8c53;
}

.pixel-button:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 var(--color-bg-secondary);
}

.navigation {
  display: flex;
  justify-content: space-around;
  margin: var(--spacing-lg) 0;
  gap: var(--spacing-sm);
}

.room-button {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--color-accent-blue);
  color: var(--color-bg-secondary);
  border: none;
  border: var(--border-width-md) solid var(--color-accent-orange);
  font-family: 'Courier New', monospace;
  cursor: pointer;
  font-size: var(--font-size-sm);
  flex: 1;
  image-rendering: pixelated;
}

.room-button:hover {
  background-color: #6bd7ff;
}

.victory {
  text-align: center;
  padding: 40px;
}

.victory h2 {
  color: var(--color-accent-orange);
  font-size: var(--font-size-giant);
  text-shadow: 4px 4px 0 var(--color-accent-blue);
}

.hearts-bar {
  background: rgba(0, 0, 0, 0.7);
  padding: var(--spacing-sm);
  border-radius: var(--border-radius-md);
  margin-bottom: var(--spacing-lg);
  text-align: center;
}

.heart {
  font-size: var(--font-size-xxl);
  margin: 0 var(--spacing-xs);
  transition: all var(--transition-normal);
  image-rendering: pixelated;
  font-family: 'Segoe UI Emoji', 'Apple Color Emoji', sans-serif;
}

.heart.broken {
  opacity: 0.3;
  filter: grayscale(100%);
  animation: breakHeart 0.5s ease-out;
}

@keyframes breakHeart {
  0% { 
    transform: scale(1); 
    opacity: 1; 
  }
  50% { 
    transform: scale(1.3); 
    opacity: 0.7; 
  }
  100% { 
    transform: scale(0.8); 
    opacity: 0.3; 
  }
}

.fa-heart {
  transition: all var(--transition-normal);
  image-rendering: pixelated;
}

.result-message {
  margin-top: var(--spacing-sm);
  padding: var(--spacing-sm);
  border-radius: var(--border-radius-sm);
  display: none;
}

.result-message.success {
  background: rgba(76, 201, 240, 0.2);
  border: var(--border-width-sm) solid var(--color-accent-blue);
  display: block;
}

.result-message.error {
  background: rgba(255, 107, 53, 0.2);
  border: var(--border-width-sm) solid var(--color-accent-orange);
  display: block;
}

.puzzle[data-difficulty="1"] {
  border-left: 5px solid var(--color-accent-blue);
}

.puzzle[data-difficulty="2"] {
  border-left: 5px solid var(--color-accent-orange);
}

.puzzle[data-difficulty="3"] {
  border-left: 5px solid var(--color-accent-pink);
}

.game-over-screen {
  text-align: center;
  padding: 40px;
}

.broken-heart {
  font-size: 80px;
  margin: var(--spacing-lg) 0;
  animation: pulse 2s infinite;
}

.stats {
  background: rgba(255, 255, 255, 0.1);
  padding: var(--spacing-lg);
  border-radius: var(--border-radius-md);
  margin: var(--spacing-lg) 0;
}

.restart-options {
  display: flex;
  gap: var(--spacing-lg);
  justify-content: center;
}

.progress-bar {
  width: 100%;
  background: var(--color-bg-tertiary);
  height: 24px;
  border: var(--border-width-lg) solid var(--color-accent-blue);
  margin-bottom: var(--spacing-lg);
  position: relative;
  image-rendering: pixelated;
  box-shadow: 0 0 10px rgba(76, 201, 240, 0.3);
}

.progress-fill {
  height: 100%;
  background: var(--color-accent-orange);
  transition: width var(--transition-slow);
  position: relative;
  overflow: hidden;
}

.progress-fill::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(45deg, rgba(255,255,255,0.1) 25%, 
    transparent 25%, transparent 50%, 
    rgba(255,255,255,0.1) 50%, 
    rgba(255,255,255,0.1) 75%, 
    transparent 75%, transparent);
  background-size: 10px 10px;
}

.progress-text {
  position: absolute;
  width: 100%;
  text-align: center;
  color: var(--color-accent-blue);
  font-weight: bold;
  text-shadow: 2px 2px 0 #000;
  z-index: 1;
  line-height: 24px;
  font-family: 'Courier New', monospace;
  font-size: var(--font-size-sm);
}

.progress-bar.completed .progress-fill {
  background: var(--color-accent-blue);
  animation: progress-pulse 1s infinite;
}

@keyframes progress-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

.start-screen {
  text-align: center;
  padding: var(--spacing-lg);
}

.pixel-welcome {
  max-width: 650px;
  margin: 0 auto;
}

.features-list {
  text-align: left;
  max-width: 400px;
  margin: var(--spacing-lg) auto;
  background: rgba(255, 255, 255, 0.1);
  padding: var(--spacing-lg);
  border-radius: var(--border-radius-md);
  border: var(--border-width-md) solid var(--color-accent-blue);
}

.features-list li {
  margin: 12px 0;
  padding: 8px;
  background: rgba(76, 201, 240, 0.2);
  border-radius: var(--border-radius-sm);
  list-style-type: none;
}

.features-list li::before {
  content: "‚Ä¢ ";
  color: var(--color-accent-orange);
  font-weight: bold;
}

.character-selection {
  margin: var(--spacing-xxl) 0;
  padding: var(--spacing-lg);
  background: rgba(255, 107, 53, 0.1);
  border-radius: var(--border-radius-lg);
  border: var(--border-width-md) solid var(--color-accent-orange);
}

.character-selection h3 {
  color: var(--color-accent-blue);
  margin-bottom: var(--spacing-lg);
}

.characters {
  display: flex;
  justify-content: center;
  gap: var(--spacing-xl);
  margin: var(--spacing-lg) 0;
  flex-wrap: wrap;
}

.character {
  cursor: pointer;
  padding: var(--spacing-lg);
  border: var(--border-width-lg) solid transparent;
  border-radius: var(--border-radius-lg);
  transition: all var(--transition-normal);
  background: rgba(42, 42, 74, 0.8);
  min-width: 120px;
}

.character:hover {
  border-color: var(--color-accent-blue);
  transform: translateY(-5px);
  background: rgba(76, 201, 240, 0.2);
}

.character.selected {
  border-color: var(--color-accent-orange);
  background: rgba(255, 107, 53, 0.2);
  transform: translateY(-5px) scale(1.05);
  box-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
}

.character.selected .char-icon {
  transform: scale(1.2);
}

.char-icon {
  font-size: 48px;
  margin-bottom: var(--spacing-sm);
  transition: transform var(--transition-normal);
  image-rendering: pixelated;
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: none;
  font-smooth: never;
  transform: translateZ(0);
}

.character span {
  display: block;
  font-weight: bold;
  color: var(--color-accent-blue);
}

.start-button {
  font-size: var(--font-size-xxl);
  padding: 18px 40px;
  margin: var(--spacing-xxl) 0;
  background: var(--color-bg-tertiary);
  border: var(--border-width-lg) solid var(--color-accent-orange);
  color: var(--color-accent-blue);
  text-shadow: 2px 2px 0 #000;
  position: relative;
  overflow: hidden;
  transition: all var(--transition-normal);
  box-shadow: 
    0 0 10px rgba(255, 107, 53, 0.5),
    inset 0 0 10px rgba(76, 201, 240, 0.3);
  background-image: none !important;
}

.start-button::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border: var(--border-width-md) solid var(--color-accent-blue);
  animation: border-glow 2s infinite;
}

.start-button::after {
  content: '‚ñ∂';
  margin-left: var(--spacing-sm);
  animation: blink 1s infinite;
}

.start-button:hover {
  transform: translateY(-3px) scale(1.05);
  background: var(--color-bg-quaternary);
  box-shadow: 
    0 0 20px rgba(255, 107, 53, 0.8),
    inset 0 0 15px rgba(76, 201, 240, 0.5);
  text-shadow: 0 0 10px var(--color-accent-blue);
}

.start-button:active {
  transform: translateY(1px) scale(0.98);
}

.start-button .pixel-emoji {
  font-size: 28px;
  vertical-align: middle;
  margin-right: var(--spacing-sm);
}

.button-text {
  font-family: 'Courier New', monospace;
  font-weight: bold;
  letter-spacing: 1px;
}

.admin-login-hint {
  margin-top: var(--spacing-xxl);
  padding: var(--spacing-md);
  background: rgba(0, 0, 0, 0.3);
  border-radius: var(--border-radius-md);
  border: var(--border-width-sm) solid var(--color-accent-blue);
}

.admin-login-hint a {
  color: var(--color-accent-orange);
  text-decoration: none;
}

.admin-login-hint a:hover {
  text-decoration: underline;
}

.sound-controls {
  position: fixed;
  top: var(--spacing-lg);
  right: var(--spacing-lg);
  z-index: 1000;
}

.sound-controls .pixel-button {
  width: 50px;
  height: 50px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xl);
}

.sound-control-button {
  position: fixed;
  top: var(--spacing-lg);
  right: var(--spacing-lg);
  z-index: 1000;
  width: 50px;
  height: 50px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xl);
}

.fa-pixel {
  image-rendering: pixelated;
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: none;
  font-smooth: never;
  display: inline-block;
  font-style: normal;
  font-variant: normal;
  text-rendering: auto;
  line-height: 1;
}

.fa-headered {
  font-size: var(--font-size-xxl);
  margin: 0 var(--spacing-sm);
}

.fa-character {
  font-size: 36px;
  margin-bottom: var(--spacing-sm);
}

.fa-button {
  font-size: var(--font-size-xl);
  margin-right: 8px;
}

.victory-actions {
  display: flex;
  justify-content: center;
  gap: var(--spacing-lg);
  margin: var(--spacing-xxl) 0;
  padding: var(--spacing-lg);
  background: rgba(42, 42, 74, 0.8);
  border: var(--border-width-lg) solid var(--color-accent-orange);
  border-radius: var(--border-radius-md);
  box-shadow: var(--shadow-md);
  image-rendering: pixelated;
}

.victory-actions .pixel-button {
  padding: var(--spacing-md) var(--spacing-xl);
  font-size: var(--font-size-lg);
  background: var(--color-accent-blue);
  color: var(--color-bg-secondary);
  border: var(--border-width-md) solid var(--color-accent-orange);
  text-decoration: none;
  transition: all 0.2s ease;
  text-align: center;
  min-width: 120px;
}

.victory-actions .pixel-button:hover {
  background: #6bd7ff;
  transform: translateY(-3px);
  box-shadow: 0 5px 0 var(--color-bg-secondary);
}

.victory-actions .pixel-button:active {
  transform: translateY(1px);
  box-shadow: 0 2px 0 var(--color-bg-secondary);
}

.victory-actions .pixel-button .fa-pixel {
  margin-right: 8px;
  font-size: var(--font-size-xl);
}

.fa-orange {
  color: var(--color-accent-orange);
}

.fa-blue {
  color: var(--color-accent-blue);
}

.fa-white {
  color: var(--color-text-primary);
}

.victory-content {
  text-align: center;
  margin: var(--spacing-lg) 0;
}

.unique-id-card {
  background: rgba(42, 42, 74, 0.8);
  border: var(--border-width-lg) solid var(--color-accent-blue);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-xl);
  margin: var(--spacing-xl) auto;
  max-width: 600px;
  box-shadow: 0 0 20px rgba(76, 201, 240, 0.4);
}

.id-display {
  background: var(--color-bg-secondary);
  border: var(--border-width-md) solid var(--color-accent-orange);
  padding: var(--spacing-md);
  margin: var(--spacing-md) 0;
  border-radius: var(--border-radius-md);
  font-family: 'Courier New', monospace;
  font-size: var(--font-size-lg);
  color: var(--color-accent-blue);
  display: flex;
  justify-content: space-between;
  align-items: center;
  word-break: break-all;
}

.copy-btn {
  padding: 8px 12px;
  margin-left: var(--spacing-sm);
  flex-shrink: 0;
}

.id-instructions {
  color: var(--color-accent-orange);
  font-size: var(--font-size-sm);
  margin-top: var(--spacing-sm);
}

.social-share {
  margin: var(--spacing-lg) 0;
}

.hashtags {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: var(--spacing-sm);
  margin: var(--spacing-md) 0;
}

.hashtag {
  background: rgba(255, 107, 53, 0.2);
  padding: 8px 15px;
  border-radius: 20px;
  border: var(--border-width-sm) solid var(--color-accent-orange);
  color: #ff8c53;
  font-weight: bold;
}

.call-to-action {
  background: rgba(76, 201, 240, 0.1);
  padding: var(--spacing-lg);
  border-radius: var(--border-radius-md);
  border: var(--border-width-md) solid var(--color-accent-blue);
  margin: var(--spacing-lg) 0;
}

.victory-message p {
  margin: var(--spacing-md) 0;
  line-height: 1.6;
  font-size: var(--font-size-md);
}

.game-rules, .quest-structure, .rewards-info {
    background: var(--color-bg-tertiary);
    border: var(--border-width-lg) solid var(--color-accent-blue);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    margin: var(--spacing-xl) 0;
    box-shadow: var(--shadow-md);
    position: relative;
    overflow: hidden;
}

.game-rules::before, .quest-structure::before, .rewards-info::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, 
        var(--color-accent-orange), 
        var(--color-accent-blue), 
        var(--color-accent-orange));
}

.game-rules h3, .quest-structure h3, .rewards-info h3 {
    color: var(--color-accent-orange);
    margin-top: 0;
    margin-bottom: var(--spacing-lg);
    text-align: center;
    font-size: var(--font-size-xl);
    text-shadow: 2px 2px 0 #000;
    font-family: 'Courier New', monospace;
    font-weight: bold;
}

.game-rules h3 i, .quest-structure h3 i, .rewards-info h3 i {
    margin-right: var(--spacing-sm);
}

.rules-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-md);
}

.rule-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: var(--color-bg-quaternary);
    border-radius: var(--border-radius-md);
    border: var(--border-width-md) solid var(--color-accent-blue);
    transition: all var(--transition-normal);
    image-rendering: pixelated;
}

.rule-item:hover {
    border-color: var(--color-accent-orange);
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}

.rule-item i {
    font-size: var(--font-size-xxl);
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius-sm);
    border: var(--border-width-sm) solid currentColor;
}

.rule-item span {
    flex: 1;
    font-size: var(--font-size-md);
    line-height: 1.4;
}

/* –£–ª—É—á—à–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –±–ª–æ–∫–∞ —Å –∫–æ–º–Ω–∞—Ç–∞–º–∏ */
.quest-structure {
    background: var(--color-bg-secondary);
    border-color: var(--color-accent-orange);
}

.rooms-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-md);
    margin-top: var(--spacing-lg);
}

.room-card {
    background: linear-gradient(135deg, var(--color-bg-tertiary), var(--color-bg-quaternary));
    padding: var(--spacing-lg);
    border-radius: var(--border-radius-md);
    text-align: center;
    border: var(--border-width-md) solid var(--color-accent-blue);
    transition: all var(--transition-normal);
    position: relative;
    overflow: hidden;
    image-rendering: pixelated;
}

.room-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--color-accent-orange);
}

.room-card:hover {
    border-color: var(--color-accent-orange);
    transform: translateY(-5px) scale(1.02);
    box-shadow: var(--shadow-glow);
}

.room-card i {
    font-size: 2.5em;
    margin-bottom: var(--spacing-md);
    display: block;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-shadow: 2px 2px 0 #000;
}

.room-card h4 {
    margin: var(--spacing-sm) 0;
    color: var(--color-text-primary);
    font-size: var(--font-size-lg);
    font-weight: bold;
    text-shadow: 1px 1px 0 #000;
}

.room-card p {
    font-size: var(--font-size-sm);
    color: var(--color-text-primary);
    opacity: 0.9;
    margin: 0;
    line-height: 1.4;
}

/* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–Ω–∞—Ç—ã */
.room-card:nth-child(1) { /* –°–µ—Ä–≤–µ—Ä–Ω–∞—è */
    border-color: #4cc9f0;
}
.room-card:nth-child(1)::before {
    background: #4cc9f0;
}

.room-card:nth-child(2) { /* –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ */
    border-color: #d39e76;
}
.room-card:nth-child(2)::before {
    background: #d39e76;
}

.room-card:nth-child(3) { /* –ê—Ä–∫–∞–¥–∞ */
    border-color: #a29bfe;
}
.room-card:nth-child(3)::before {
    background: #a29bfe;
}

.room-card:nth-child(4) { /* –ö—Ä—ã—à–∞ */
    border-color: #b2bec3;
}
.room-card:nth-child(4)::before {
    background: #b2bec3;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ –Ω–∞–≥—Ä–∞–¥ */
.rewards-info {
    background: linear-gradient(135deg, var(--color-bg-secondary), var(--color-bg-tertiary));
    border-color: var(--color-accent-orange);
}

.reward-content {
    text-align: center;
}

.reward-content p {
    margin-bottom: var(--spacing-lg);
    color: var(--color-accent-blue);
    font-size: var(--font-size-lg);
    font-weight: bold;
}

.reward-content ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
}

.reward-content li {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: var(--color-bg-quaternary);
    border-radius: var(--border-radius-md);
    border: var(--border-width-md) solid var(--color-accent-orange);
    transition: all var(--transition-normal);
}

.reward-content li:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}

.reward-content li i {
    font-size: var(--font-size-xxl);
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--border-radius-sm);
    border: var(--border-width-sm) solid currentColor;
}

.reward-content li span {
    flex: 1;
    text-align: left;
    font-size: var(--font-size-md);
}

@keyframes pixel-blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes border-glow {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.3; }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes pixel-glow {
  0% { box-shadow: 0 0 5px rgba(255, 107, 53, 0.5); }
  50% { box-shadow: 0 0 20px rgba(255, 107, 53, 0.8); }
  100% { box-shadow: 0 0 5px rgba(255, 107, 53, 0.5); }
}

.puzzle {
  animation: pixel-glow 2s infinite;
}

@media (max-width: 768px) {
  .container {
    padding: var(--spacing-md);
    margin: var(--spacing-sm);
  }
  
  .room-image {
    width: var(--room-image-size-mobile);
    height: var(--room-image-size-mobile);
  }
  
  .room-image::before {
    font-size: var(--font-size-lg);
  }
  
  .navigation {
    flex-direction: column;
  }
  
  .pixel-input {
    width: 100%;
    margin-right: 0;
    margin-bottom: var(--spacing-sm);
  }
  
  .room-button {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-xs);
  }
  
  .characters {
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .character {
    min-width: auto;
    padding: var(--spacing-md);
  }
  
  .char-icon {
    font-size: 36px;
  }
  
  .start-button {
    font-size: var(--font-size-xl);
    padding: var(--spacing-md) var(--spacing-xxl);
  }
  
  .features-list {
    padding: var(--spacing-md);
  }

  .char-icon {
    font-size: 36px;
  }
  
  .start-button .pixel-emoji {
    font-size: var(--font-size-xxl);
  }

  .victory-actions {
    flex-direction: column;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
  }
  
  .victory-actions .pixel-button {
    padding: var(--spacing-sm) var(--spacing-lg);
    font-size: var(--font-size-md);
    min-width: auto;
  }

  .id-display {
    flex-direction: column;
    gap: var(--spacing-sm);
  }
  
  .hashtags {
    flex-direction: column;
    align-items: center;
  }
  
  .hashtag {
    width: fit-content;
  }
  .rooms-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-sm);
    }
    
    .room-card {
        padding: var(--spacing-sm);
    }
    
    .room-card i {
        font-size: 1.5em;
    }
    
    .room-card h4 {
        font-size: var(--font-size-sm);
    }
    
    .room-card p {
        font-size: var(--font-size-xs);
    }
    
    .rules-list, .reward-content ul {
        gap: var(--spacing-xs);
    }
    
    .rule-item, .reward-content li {
        padding: var(--spacing-xs);
        font-size: var(--font-size-sm);
    }
}

@media (max-width: 480px) {
  body {
    padding: var(--spacing-sm);
  }
  
  .container {
    padding: var(--spacing-sm);
  }
  
  .room {
    padding: var(--spacing-md);
  }
  
  .room-image {
    width: var(--room-image-size-small);
    height: var(--room-image-size-small);
  }
  
  .room-image::before {
    font-size: var(--font-size-md);
  }
  
  h1 {
    font-size: 2em;
  }
  
  .pixel-input {
    font-size: var(--font-size-sm);
  }
  
  .pixel-button {
    padding: var(--spacing-sm) var(--spacing-lg);
    font-size: var(--font-size-sm);
  }
  
  .character-selection {
    padding: var(--spacing-md);
  }
  
  .char-icon {
    font-size: 32px;
  }
  
  .start-button {
    font-size: var(--font-size-lg);
    padding: var(--spacing-sm) var(--spacing-xl);
  }

  .char-icon {
    font-size: 32px;
  }
  
  .start-button .pixel-emoji {
    font-size: var(--font-size-xl);
  }

  .victory-actions {
    padding: var(--spacing-sm);
    gap: var(--spacing-sm);
  }
  
  .victory-actions .pixel-button {
    padding: var(--spacing-sm) 18px;
    font-size: var(--font-size-sm);
  }
  
  .victory-actions .pixel-button .fa-pixel {
    font-size: var(--font-size-lg);
    margin-right: 6px;
  }
  
  .rooms-grid {
        grid-template-columns: 1fr;
    }
    
    .game-rules, .quest-structure, .rewards-info {
        padding: var(--spacing-md);
        margin: var(--spacing-md) 0;
    }
    
    .rule-item, .reward-content li {
        flex-direction: column;
        text-align: center;
        gap: var(--spacing-xs);
    }
    
    .rule-item i, .reward-content li i {
        margin-bottom: var(--spacing-xs);
    }
}